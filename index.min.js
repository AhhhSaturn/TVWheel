function shadeColor(e,t){var o=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),l=parseInt(e.substring(5,7),16);return o=parseInt(o*(100+t)/100),n=(n=parseInt(n*(100+t)/100))<255?n:255,l=(l=parseInt(l*(100+t)/100))<255?l:255,"#"+(1==(o=o<255?o:255).toString(16).length?"0"+o.toString(16):o.toString(16))+(1==n.toString(16).length?"0"+n.toString(16):n.toString(16))+(1==l.toString(16).length?"0"+l.toString(16):l.toString(16))}function getPageType(){return"https://www.twitch.tv/"==document.URL?(console.log("TwitchWheel: on home"),"home"):(console.log("TwitchWheel: on channel"),"channel")}function registerCustomElements(){document.getElementsByClassName("iFaqlo stream-chat-header")[0].setAttribute("class","cusChatHeader"),document.getElementsByClassName("cusChatHeader")[0].style.cssText="background-color: #18181b; border-bottom: var(--border-width-default) solid var(--color-border-base)  !important; display: flex !important; width: 100% !important; -webkit-box-pack: center !important; justify-content: center !important; -webkit-box-align: center !important; align-items: center !important; flex-shrink: 0 !important; padding-left: 1rem !important; padding-right: 1rem !important; z-index: var(--z-index-above)  !important; height: 5rem;"}function changeThemeColor(e,t){let o=shadeColor(e,40);"channel"==t&&(console.log("TwitchWheel: Theme for channel"),void 0===document.getElementsByClassName("cusChatHeader")[0]&&(console.log("TwitchWheel: making custom elements"),registerCustomElements()),document.getElementsByClassName("cusChatHeader")[0].style.backgroundColor=e,document.getElementsByClassName("InjectLayout-sc-588ddc-0 chat-list--default font-scale--default hklDpq")[0].style.backgroundColor=e,document.getElementsByClassName("fwjUjn chat-input")[0].style.backgroundColor=e,document.getElementsByClassName("InjectLayout-sc-588ddc-0 chat-list--default font-scale--default hklDpq")[0].style.color=shadeColor(e,300),document.getElementsByClassName("channel-info-content")[0].style.backgroundColor=o),document.body.style.color=shadeColor(e,300),document.body.style.backgroundColor=o,document.getElementsByClassName("simplebar-content side-nav__scrollable_content")[0].style.backgroundColor=e,document.getElementsByClassName("cusNavBar")[0].style.backgroundColor=o,document.getElementsByTagName("nav")[1].style.backgroundColor=e,document.cookie=`color=${e}; expires=Thu, 18 Dec 2024 12:00:00 UTC; path=/`}function init(){pageType=getPageType();let e=document.cookie;e=e.search("color"),-1!==e&&(e=document.cookie.slice(document.cookie.search("color")+6,document.cookie.search("color")+13),changeThemeColor(e,pageType),document.getElementById("colorInputHTML").value=shadeColor(e,40))}const colorForm=document.createElement("form"),colorInput=document.createElement("input");colorInput.setAttribute("type","color"),colorInput.setAttribute("id","colorInputHTML"),colorForm.appendChild(colorInput),document.getElementsByClassName("Layout-sc-nxg1ff-0 hWJFll")[0].appendChild(colorForm),document.getElementById("colorInputHTML").style.backgroundColor="#00000000",document.getElementById("colorInputHTML").style.borderStyle="none",document.getElementById("colorInputHTML").style.width="25px",document.getElementById("colorInputHTML").style.height="30px",document.getElementsByClassName("fMxWnV")[0].setAttribute("class","cusNavBar"),document.getElementsByClassName("cusNavBar")[0].style.cssText="background-color: var(--color-background-base); display: flex !important; box-shadow: var(--shadow-elevation-1)  !important; -webkit-box-align: stretch !important; align-items: stretch !important; flex-wrap: nowrap !important; height: 100% !important;",init(),document.getElementById("colorInputHTML").addEventListener("input",(()=>{changeThemeColor(document.getElementById("colorInputHTML").value,pageType)}));let oldLocation=location.href;setInterval((function(){location.href!=oldLocation&&(init(),oldLocation=location.href)}),1e3);